name: GitHub Actions Demo
on:
  push:
    branches: [ $default-branch ]
  pull_request:
    branches: [ $default-branch ]

jobs:
  dummy:
    runs-on: ubuntu-latest

    steps:
      - uses: actions/checkout@v2

      - name: Run a one-line script
        run: echo Hello, world!

  Build-And-Package:
    uses: adelanre/shared-pipeline/.github/workflows/node.js.yml@main
    with:
      node-version: [12.x, 14.x]
        # See supported Node.js release schedule at https://nodejs.org/en/about/releases/
  
  # Docker-Build-Push:
  #   uses: adelanre/shared-pipeline/ci/docker.yml@main
  #   with:
  #     imageTag: ${{ GITHUB_SHA }} #change to git tag/commit
  # deploy-app:
  #   uses: https://github.com/adelanre/shared-pipeline/blob/main/cd/eks.yml@main

# name: CD
# on: [workflow_call]

# jobs:
#   deploy_to_review:
#      ...

#   deploy_to_staging:
#      ...

#   deploy_to_production:
#     environment: production
#     â€¦
